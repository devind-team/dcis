# Модуль document_services

Модуль работы с документами.

### Функции

| Signature                                                                                                                                                                                                                               | Decorator | Docstring                                                                                                                                                                                                                                                                                                                                                                                                                       |
| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| get_documents(user: apps.core.models.User, period_id: int, divisions_id)                                                                                                                                                                | -         | Получение документов в зависимости от прав.                                                                                                                                                                                                                                                                                                                                                                                     |
| create_new_document( user: apps.core.models.User, period: apps.dcis.models.project.Period, status_id: int, comment: str, document_id: Optional[int] = None, division_id: Optional[int] = None) -> apps.dcis.models.document.Document    | -         | Создание нового документа.user - пользователь, который создает документperiod_id - собираемый периодstatus_id - идентификатор статуса устанавливаемого документаobject_id - идентификатор дивизиона                                                                                                                                                                                                                             |
| transfer_rows( user: apps.core.models.User, sheet: apps.dcis.models.document.Sheet, last_document: apps.dcis.models.document.Document, document: apps.dcis.models.document.Document, parent_id: int, parent_ids=None) -> dict[int, int] | -         | Переносим дочерние строки.Рекурсивно проходимся по строкам и создаем новые с трансфером идентификаторов для значений. row_id = 1 parent = none ----> row_id = 1, parent = none - не участвует в трансфере row_id = 2 parent = 1 ----> row_id = 5, parent = 1 transform[2] = 5 row_id = 3 parent = 1 ----> row_id = 6, parent = 1 transform[3] = 6 row_id = 4 parent - 3 ----> row_id = 7, parent = transform[parent_id = 3] = 6 |
| transfer_limitations( cell_original: int, cell: int, parent_id_original: Optional[int] = None, parent_id: Optional[int] = None) -> None                                                                                                 | -         | Рекурсивно переносим ограничения ячеек.cell_original - оригинальная ячейкаcell - ячейка в которую переносим ограниченияparent_id_original - идентификатор оригинального переносимого ограниченияparent_id - идентификатор переносимого ограничения                                                                                                                                                                              |